/**
 * React Router DOM v6.4.0-pre.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
import{useRef as e,useState as t,useLayoutEffect as n,createElement as o,forwardRef as r,useCallback as a,useContext as i,useMemo as l,useEffect as c}from"react";import{useRenderDataRouter as s,Router as u,useHref as f,createPath as m,useResolvedPath as d,useMatch as h,UNSAFE_DataRouterStateContext as p,useNavigate as g,useLocation as y,UNSAFE_DataRouterContext as w,UNSAFE_RouteContext as b}from"react-router";export{DataMemoryRouter,MemoryRouter,Navigate,NavigationType,Outlet,Route,Router,Routes,UNSAFE_DataRouterContext,UNSAFE_DataRouterStateContext,UNSAFE_LocationContext,UNSAFE_NavigationContext,UNSAFE_RouteContext,createPath,createRoutesFromChildren,generatePath,isRouteErrorResponse,json,matchPath,matchRoutes,parsePath,redirect,renderMatches,resolvePath,useActionData,useHref,useInRouterContext,useLoaderData,useLocation,useMatch,useMatches,useNavigate,useNavigation,useNavigationType,useOutlet,useOutletContext,useParams,useRenderDataRouter,useResolvedPath,useRevalidator,useRouteError,useRouteLoaderData,useRoutes}from"react-router";import{createBrowserRouter as v,createHashRouter as R,createBrowserHistory as S,createHashHistory as A,matchPath as E,invariant as D}from"@remix-run/router";const C="application/x-www-form-urlencoded";function N(e){return null!=e&&"string"==typeof e.tagName}function P(e=""){return new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let o=e[n];return t.concat(Array.isArray(o)?o.map((e=>[n,e])):[[n,o]])}),[]))}function T(e,t,n){let o,r,a,i;if(N(l=e)&&"form"===l.tagName.toLowerCase()){let l=n.submissionTrigger;o=n.method||e.getAttribute("method")||"get",r=n.action||e.getAttribute("action")||t,a=n.encType||e.getAttribute("enctype")||C,i=new FormData(e),l&&l.name&&i.append(l.name,l.value)}else if(function(e){return N(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return N(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let l=e.form;if(null==l)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');o=n.method||e.getAttribute("formmethod")||l.getAttribute("method")||"get",r=n.action||e.getAttribute("formaction")||l.getAttribute("action")||t,a=n.encType||e.getAttribute("formenctype")||l.getAttribute("enctype")||C,i=new FormData(l),e.name&&i.set(e.name,e.value)}else{if(N(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');if(o=n.method||"get",r=n.action||t,a=n.encType||C,e instanceof FormData)i=e;else if(i=new FormData,e instanceof URLSearchParams)for(let[t,n]of e)i.append(t,n);else if(null!=e)for(let t of Object.keys(e))i.append(t,e[t])}var l;let{protocol:c,host:s}=window.location,u=new URL(r,`${c}//${s}`);if("get"===o.toLowerCase())for(let[f,m]of i){if("string"!=typeof m)throw new Error("Cannot submit binary form data using GET");u.searchParams.append(f,m)}return{url:u,method:o,encType:a,formData:i}}function L({children:e,fallbackElement:t,hydrationData:n,routes:o,window:r}){return s({children:e,fallbackElement:t,routes:o,createRouter:e=>v({routes:e,hydrationData:n,window:r})})}function x({children:e,hydrationData:t,fallbackElement:n,routes:o,window:r}){return s({children:e,fallbackElement:n,routes:o,createRouter:e=>R({routes:e,hydrationData:t,window:r})})}function F({basename:r,children:a,window:i}){let l=e();null==l.current&&(l.current=S({window:i,v5Compat:!0}));let c=l.current,[s,f]=t({action:c.action,location:c.location});return n((()=>c.listen(f)),[c]),o(u,{basename:r,children:a,location:s.location,navigationType:s.action,navigator:c})}function K({basename:r,children:a,window:i}){let l=e();null==l.current&&(l.current=A({window:i,v5Compat:!0}));let c=l.current,[s,f]=t({action:c.action,location:c.location});return n((()=>c.listen(f)),[c]),o(u,{basename:r,children:a,location:s.location,navigationType:s.action,navigator:c})}function O({basename:e,children:r,history:a}){const[i,l]=t({action:a.action,location:a.location});return n((()=>a.listen(l)),[a]),o(u,{basename:e,children:r,location:i.location,navigationType:i.action,navigator:a})}const k=r((function({onClick:e,reloadDocument:t,replace:n=!1,state:r,target:a,to:i,resetScroll:l,...c},s){let u=f(i),m=I(i,{replace:n,state:r,target:a,resetScroll:l});return o("a",Object.assign({},c,{href:u,onClick:function(n){e&&e(n),n.defaultPrevented||t||m(n)},ref:s,target:a}))})),j=r((function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:a,to:c,children:s,...u},f){let m,g=d(c),y=h({path:g.pathname,end:r,caseSensitive:t}),w=i(p)?.navigation.location,b=d(w||""),v=null!=l((()=>w?E({path:g.pathname,end:r,caseSensitive:t},b.pathname):null),[w,g.pathname,t,r,b.pathname]),R=null!=y,S=R?e:void 0;m="function"==typeof n?n({isActive:R,isPending:v}):[n,R?"active":null,v?"pending":null].filter(Boolean).join(" ");let A="function"==typeof a?a({isActive:R,isPending:v}):a;return o(k,Object.assign({},u,{"aria-current":S,className:m,ref:f,style:A,to:c}),"function"==typeof s?s({isActive:R,isPending:v}):s)})),U=r(((e,t)=>o(_,Object.assign({},e,{ref:t})))),_=r((({replace:e,method:t="get",action:n=".",onSubmit:r,fetcherKey:a,...i},l)=>{let c=H(a),s="get"===t.toLowerCase()?"get":"post",u=J(n);return o("form",Object.assign({ref:l,method:s,action:u,onSubmit:n=>{if(r&&r(n),n.defaultPrevented)return;n.preventDefault();let o=n.nativeEvent.submitter;c(o||n.currentTarget,{method:t,replace:e})}},i))}));function M({getKey:e,storageKey:t}){return function({getKey:e,storageKey:t}={}){let o=y(),r=i(w),l=i(p);(null==r||null==l)&&D(!1);let{restoreScrollPosition:s,resetScrollPosition:u}=l;c((()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"})),[]),f=a((()=>{if("idle"===l?.navigation.state){let t=(e?e(l.location,l.matches):null)||l.location.key;q[t]=window.scrollY}sessionStorage.setItem(t||"react-router-scroll-positions",JSON.stringify(q)),window.history.scrollRestoration="auto"}),[t,e,l.navigation.state,l.location,l.matches]),c((()=>(window.addEventListener("beforeunload",f),()=>{window.removeEventListener("beforeunload",f)})),[f]),n((()=>{try{let e=sessionStorage.getItem(t||"react-router-scroll-positions");e&&(q=JSON.parse(e))}catch(e){}}),[t]),n((()=>{let t=r?.enableScrollRestoration(q,(()=>window.scrollY),e);return()=>t&&t()}),[r,e]),n((()=>{if(!1!==s)if("number"!=typeof s){if(o.hash){let e=document.getElementById(o.hash.slice(1));if(e)return void e.scrollIntoView()}!1!==u&&window.scrollTo(0,0)}else window.scrollTo(0,s)}),[o,s,u]);var f}({getKey:e,storageKey:t}),null}function I(e,{target:t,replace:n,state:o,resetScroll:r}={}){let i=g(),l=y(),c=d(e);return a((a=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(a,t)){a.preventDefault();let t=!!n||m(l)===m(c),s=o;!1===r&&(s={...o,__resetScrollPosition:!1}),i(e,{replace:t,state:s})}}),[l,i,c,n,o,t,e,r])}function Y(t){let n=e(P(t)),o=y(),r=l((()=>function(e,t){let n=P(e);for(let o of t.keys())n.has(o)||t.getAll(o).forEach((e=>{n.append(o,e)}));return n}(o.search,n.current)),[o.search]),i=g();return[r,a(((e,t)=>{i("?"+P(e),t)}),[i])]}function B(){return H()}function H(e){let t=i(w),n=J();return a(((o,r={})=>{if(null==t&&D(!1),"undefined"==typeof document)throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{method:a,encType:i,formData:l,url:c}=T(o,n,r),s=c.pathname+c.search,u={replace:null!=r.replace?!0===r.replace:"get"!==a,formData:l,formMethod:a,formEncType:i};e?t.fetch(e,s,u):t.navigate(s,u)}),[n,t,e])}function J(e="."){let t=i(b);t||D(!1);let[n]=t.matches.slice(-1),{pathname:o,search:r}=d(e);return"."===e&&n.route.index&&(r=r?r.replace(/^\?/,"?index&"):"?index"),o+r}let $=0;function G(){let e=i(w);e||D(!1);let[n]=t((()=>String(++$))),[a]=t((()=>function(e){return r(((t,n)=>o(_,Object.assign({},t,{ref:n,fetcherKey:e}))))}(n))),[s]=t((()=>t=>{e||D(!1),e.fetch(n,t)})),u=H(n),f=e.getFetcher(n),m=l((()=>({Form:a,submit:u,load:s,...f})),[f,a,u,s]);return c((()=>()=>{e?e.deleteFetcher(n):console.warn("No fetcher available to clean up from useFetcher()")}),[e,n]),m}function V(){let e=i(p);return e||D(!1),[...e.fetchers.values()]}let q={};export{F as BrowserRouter,L as DataBrowserRouter,x as DataHashRouter,U as Form,K as HashRouter,k as Link,j as NavLink,M as ScrollRestoration,P as createSearchParams,O as unstable_HistoryRouter,G as useFetcher,V as useFetchers,J as useFormAction,I as useLinkClickHandler,Y as useSearchParams,B as useSubmit};
//# sourceMappingURL=react-router-dom.production.min.js.map
