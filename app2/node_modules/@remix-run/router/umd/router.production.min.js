/**
 * @remix-run/router v0.1.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).Router={})}(this,(function(t){"use strict";function e(){return e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e.apply(this,arguments)}function n(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}var r;(r=t.Action||(t.Action={})).Pop="POP",r.Push="PUSH",r.Replace="REPLACE";const o="popstate";function a(e){void 0===e&&(e={});let n,{initialEntries:r=["/"],initialIndex:o,v5Compat:a=!1}=e;n=r.map(((t,e)=>h(t,null,0===e?"default":void 0)));let i=d(null==o?n.length-1:o),l=t.Action.Pop,s=null;function d(t){return Math.min(Math.max(t,0),n.length-1)}function f(){return n[i]}function h(t,e,r){return void 0===e&&(e=null),c(n?f().pathname:"/",t,e,r)}return{get index(){return i},get action(){return l},get location(){return f()},createHref:t=>"string"==typeof t?t:u(t),push(e,r){l=t.Action.Push;let o=h(e,r);i+=1,n.splice(i,n.length,o),a&&s&&s({action:l,location:o})},replace(e,r){l=t.Action.Replace;let o=h(e,r);n[i]=o,a&&s&&s({action:l,location:o})},go(e){l=t.Action.Pop,i=d(i+e),s&&s({action:l,location:f()})},listen:t=>(s=t,()=>{s=null})}}function i(t){return void 0===t&&(t={}),f((function(t,e){var n,r;let{pathname:o,search:a,hash:i}=t.location;return c("",{pathname:o,search:a,hash:i},(null==(n=e.state)?void 0:n.usr)||null,(null==(r=e.state)?void 0:r.key)||"default")}),(function(t,e){return"string"==typeof e?e:u(e)}),null,t)}function l(t){return void 0===t&&(t={}),f((function(t,e){var n,r;let{pathname:o="/",search:a="",hash:i=""}=d(t.location.hash.substr(1));return c("",{pathname:o,search:a,hash:i},(null==(n=e.state)?void 0:n.usr)||null,(null==(r=e.state)?void 0:r.key)||"default")}),(function(t,e){let n=t.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let e=t.location.href,n=e.indexOf("#");r=-1===n?e:e.slice(0,n)}return r+"#"+("string"==typeof e?e:u(e))}),(function(t,e){}),t)}function s(t){return{usr:t.state,key:t.key}}function c(t,n,r,o){return void 0===r&&(r=null),e({pathname:"string"==typeof t?t:t.pathname,search:"",hash:""},"string"==typeof n?d(n):n,{state:r,key:(null==n?void 0:n.key)||o||Math.random().toString(36).substr(2,8)})}function u(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function d(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function f(e,n,r,a){void 0===a&&(a={});let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,d=t.Action.Pop,f=null;function h(){d=t.Action.Pop,f&&f({action:d,location:p.location})}let p={get action(){return d},get location(){return e(i,u)},listen(t){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(o,h),f=t,()=>{i.removeEventListener(o,h),f=null}},createHref:t=>n(i,t),push:function(e,n){d=t.Action.Push;let o=c(p.location,e,n);null==r||r(o,e);let a=s(o),h=p.createHref(o);try{u.pushState(a,"",h)}catch(t){i.location.assign(h)}l&&f&&f({action:d,location:o})},replace:function(e,n){d=t.Action.Replace;let o=c(p.location,e,n);null==r||r(o,e);let a=s(o),i=p.createHref(o);u.replaceState(a,"",i),l&&f&&f({action:d,location:o})},go:t=>u.go(t)};return p}function h(t,e,n){void 0===n&&(n="/");let r=b(("string"==typeof e?d(e):e).pathname||"/",n);if(null==r)return null;let o=p(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){return t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]))?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(o);let a=null;for(let t=0;null==a&&t<o.length;++t)a=y(o[t],r);return a}function p(t,e,n,r){return void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=""),t.forEach(((t,o)=>{let a={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:o,route:t};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||D(!1),a.relativePath=a.relativePath.slice(r.length));let i=E([r,a.relativePath]),l=n.concat(a);t.children&&t.children.length>0&&(!0===t.index&&D(!1),p(t.children,e,l,i)),(null!=t.path||t.index)&&e.push({path:i,score:g(i,t.index),routesMeta:l})})),e}const v=/^:\w+$/,m=t=>"*"===t;function g(t,e){let n=t.split("/"),r=n.length;return n.some(m)&&(r+=-2),e&&(r+=2),n.filter((t=>!m(t))).reduce(((t,e)=>t+(v.test(e)?3:""===e?1:10)),r)}function y(t,e){let{routesMeta:n}=t,r={},o="/",a=[];for(let t=0;t<n.length;++t){let i=n[t],l=t===n.length-1,s="/"===o?e:e.slice(o.length)||"/",c=w({path:i.relativePath,caseSensitive:i.caseSensitive,end:l},s);if(!c)return null;Object.assign(r,c.params);let u=i.route;a.push({params:r,pathname:E([o,c.pathname]),pathnameBase:M(E([o,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(o=E([o,c.pathnameBase]))}return a}function w(t,e){"string"==typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((t,e)=>(r.push(e),"([^\\/]+)")));t.endsWith("*")?(r.push("*"),o+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:(?=[@.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(o,e?void 0:"i"),r]}(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce(((t,e,n)=>{if("*"===e){let t=l[n]||"";i=a.slice(0,a.length-t.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(e){return t}}(l[n]||""),t}),{}),pathname:a,pathnameBase:i,pattern:t}}function b(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&"/"!==n?null:t.slice(e.length)||"/"}function D(t,e){if(!1===t||null==t)throw new Error(e)}function A(t,e){void 0===e&&(e="/");let{pathname:n,search:r="",hash:o=""}="string"==typeof t?d(t):t,a=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:a,search:P(r),hash:R(o)}}const E=t=>t.join("/").replace(/\/\/+/g,"/"),M=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),P=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",R=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";class x{constructor(t,e,n){this.status=t,this.statusText=e||"",this.data=n}}var T;!function(t){t.data="data",t.redirect="redirect",t.error="error"}(T||(T={}));const S={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},C={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};function j(n){var r,o,a,i,l;n.routes.length>0||D(!1);let s,u=O(n.routes),f=null,p=null,v=null,m=null,g=null,y=!1,w=h(u,n.history.location)||_(u),b=null==(null==(r=n.hydrationData)?void 0:r.errors)&&null!=(null==(o=n.hydrationData)?void 0:o.loaderData)&&w.filter((t=>t.route.loader)).some((t=>{var e,r;return void 0===(null==(e=n.hydrationData)||null==(r=e.loaderData)?void 0:r[t.route.id])}));b&&console.warn("The provided hydration data did not find loaderData for all matched routes with loaders.  Performing a full initial data load");let A,E={historyAction:n.history.action,location:n.history.location,matches:w,initialized:null!=n.hydrationData&&!b,navigation:S,restoreScrollPosition:null,resetScrollPosition:!0,revalidation:"idle",loaderData:b?{}:(null==(a=n.hydrationData)?void 0:a.loaderData)||{},actionData:(null==(i=n.hydrationData)?void 0:i.actionData)||null,errors:(null==(l=n.hydrationData)?void 0:l.errors)||null,fetchers:new Map},M=null,P=!1,R=!1,x=new Map,j=0,H=-1,L=new Map,X=new Set,Y=new Map;function K(t){E=e({},E,t),null==p||p(E)}function Q(r,o,a){var i;K(e({},null!=E.actionData&&null!=E.navigation.formMethod&&"loading"===E.navigation.state?{}:{actionData:null},a,{historyAction:r,location:o,initialized:!0,navigation:S,revalidation:"idle",loaderData:U(E,a),restoreScrollPosition:!E.navigation.formData&&it(o,a.matches||E.matches),resetScrollPosition:!1!==(null==(i=o.state)?void 0:i.__resetScrollPosition)})),P||r===t.Action.Pop||(r===t.Action.Push?n.history.push(o,o.state):r===t.Action.Replace&&n.history.replace(o,o.state)),M=null,P=!1,R=!1}async function Z(t,n,r){var o;null==(o=A)||o.abort(),M=t,P=!0===(null==r?void 0:r.startUninterruptedRevalidation),function(t,e){if(v&&m&&g){let n=m(t,e)||t.key;v[n]=g()}}(E.location,E.matches);let a=null==r?void 0:r.overrideNavigation,i=h(u,n);if(!i)return void Q(t,n,{matches:_(u),errors:{[u[0].id]:new Response(null,{status:404})}});if(l=E.location,s=n,l.pathname===s.pathname&&l.search===s.search&&l.hash!==s.hash)return void Q(t,n,{matches:i});var l,s;let d=null,f=null;if(null!=r&&r.submission&&G(r.submission)){let t=await async function(t,n,r,o){R=!0,o[o.length-1].route.index&&!J(n.search)&&(o=o.slice(0,-1));let a;K({navigation:e({state:"submitting",location:n},r)});let i=o.slice(-1)[0];if(i.route.action){let t=new AbortController;if(A=t,a=await I(i,n,t.signal,r),t.signal.aborted)return{shortCircuited:!0};A=null}else a={type:T.error,error:new Response(null,{status:405})};if(q(a)){let t=e({state:"loading",location:c(E.location,a.location)},r);return await nt(a,t),{shortCircuited:!0}}if(z(a)){return{pendingActionError:{[B(o,i.route.id).route.id]:a.error}}}return{pendingActionData:{[i.route.id]:a.data}}}(0,n,r.submission,i);if(t.shortCircuited)return;d=t.pendingActionData||null,f=t.pendingActionError||null,a=e({state:"loading",location:n},r.submission)}let{shortCircuited:p,loaderData:y,errors:w}=await async function(t,n,r,o,a,i,l){let s;if(a)s=a;else if("get"===(null==r?void 0:r.formMethod)){s=e({state:"submitting",location:n},r)}else{s={state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0}}let[c,u]=$(E,o,r,n,R,i,l,Y);if(0===c.length&&0===u.length)return Q(t,n,{matches:o,errors:l||null,actionData:i||null}),{shortCircuited:!0};P||(u.forEach((t=>{var e;let[n]=t,r={state:"loading",data:null==(e=E.fetchers.get(n))?void 0:e.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(n,r)})),K(e({navigation:s,actionData:i||E.actionData||null},u.length>0?{fetchers:new Map(E.fetchers)}:{})));let d=new AbortController;A=d,H=++j,u.forEach((t=>{let[e]=t;return x.set(e,d)}));let f=await Promise.all([...c.map((t=>I(t,n,d.signal))),...u.map((t=>{let[,e,n]=t;return I(n,e,d.signal)}))]),h=f.slice(0,c.length),p=f.slice(c.length);if(d.signal.aborted)return{shortCircuited:!0};A=null,u.forEach((t=>x.delete(t)));let v=F(f);if(v){let t=k(E,v);return await nt(v,t),{shortCircuited:!0}}let{loaderData:m,errors:g}=W(E,o,c,h,l,u,p);!function(){let t=[];for(let e of X){let n=E.fetchers.get(e);n||D(!1),"loading"===n.state&&(X.delete(e),t.push(e))}ot(t)}();let y=at(H);return e({loaderData:m,errors:g},y||u.length>0?{fetchers:new Map(E.fetchers)}:{})}(t,n,null==r?void 0:r.submission,i,a,d,f);p||Q(t,n,{matches:i,loaderData:y,errors:w})}function tt(t){return E.fetchers.get(t)||C}async function et(t,e,n,r){E.fetchers.set(t,r),K({fetchers:new Map(E.fetchers)}),Y.set(t,[e,n]);let o=new AbortController;x.set(t,o);let a=await I(n,e,o.signal);if(o.signal.aborted)return;if(x.delete(t),q(a)){let t=k(E,a);return void await nt(a,t)}if(z(a)){let e=B(E.matches,n.route.id);return E.fetchers.delete(t),void K({fetchers:new Map(E.fetchers),errors:{[e.route.id]:a.error}})}let i={state:"idle",data:a.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(t,i),K({fetchers:new Map(E.fetchers)})}async function nt(e,n){e.revalidate&&(R=!0),n.location||D(!1),await Z(t.Action.Replace,n.location,{overrideNavigation:n})}function rt(t){let e=x.get(t);e||D(!1),e.abort(),x.delete(t)}function ot(t){for(let e of t){let t={state:"idle",data:tt(e).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(e,t)}}function at(t){let e=[];for(let[n,r]of L)if(r<t){let t=E.fetchers.get(n);t||D(!1),"loading"===t.state&&(rt(n),L.delete(n),e.push(n))}return ot(e),e.length>0}function it(t,e){if(v&&m&&g){let n=m(t,e)||t.key,r=v[n];if("number"==typeof r)return r}return null}return s={get state(){return E},initialize:function(){return f=n.history.listen((t=>{let{action:e,location:n}=t;return Z(e,n)})),E.initialized||Z(t.Action.Pop,E.location),s},subscribe:function(t){if(p)throw new Error("A router only accepts one active subscriber");return p=t,()=>{p=null}},enableScrollRestoration:function(t,e,n){if(v=t,g=e,m=n||(t=>t.key),!y&&E.navigation===S){y=!0;let t=it(E.location,E.matches);null!=t&&K({restoreScrollPosition:t})}return()=>{v=null,g=null,m=null}},navigate:async function(e,r){if("number"==typeof e)return void n.history.go(e);let o=c(E.location,e,null==r?void 0:r.state),a=null!=r&&r.replace?t.Action.Replace:t.Action.Push;return V(r)?await Z(a,o,{submission:{formMethod:r.formMethod||"get",formAction:N(o),formEncType:(null==r?void 0:r.formEncType)||"application/x-www-form-urlencoded",formData:r.formData}}):await Z(a,o)},fetch:function(t,n,r){var o;if("undefined"==typeof AbortController)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");let a=h(u,n);a||D(!1),x.has(t)&&rt(t);let i=a[a.length-1].route.index&&!J(d(n).search||"")?a.slice(-2)[0]:a.slice(-1)[0];if(V(r)){var l;let o={formMethod:r.formMethod||"get",formAction:n,formEncType:r.formEncType||"application/x-www-form-urlencoded",formData:r.formData};return G(o)?void async function(t,n,r,o){var a;R=!0,Y.delete(t);let i=e({state:"submitting"},o,{data:(null==(a=E.fetchers.get(t))?void 0:a.data)||void 0});E.fetchers.set(t,i),K({fetchers:new Map(E.fetchers)});let l=new AbortController;x.set(t,l);let s=await I(r,n,l.signal,o);if(l.signal.aborted)return;if(q(s)){X.add(t);let n=e({state:"loading"},o,{data:void 0});E.fetchers.set(t,n),K({fetchers:new Map(E.fetchers)});let r=e({state:"loading",location:c(E.location,s.location)},o);return void await nt(s,r)}if(z(s)){let e=B(E.matches,r.route.id);return E.fetchers.delete(t),void K({fetchers:new Map(E.fetchers),errors:{[e.route.id]:s.error}})}let d=E.navigation.location||E.location,f="idle"!==E.navigation.state?h(u,E.navigation.location):E.matches;f||D(!1);let p=++j;L.set(t,p);let v=e({state:"loading",data:s.data},o);E.fetchers.set(t,v);let[m,g]=$(E,f,o,d,R,null,null,Y);g.filter((e=>{let[n]=e;return n!==t})).forEach((e=>{var n;let[r]=e,o={state:"loading",data:null==(n=E.fetchers.get(t))?void 0:n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(r,o),x.set(r,l)})),K({fetchers:new Map(E.fetchers)});let y=await Promise.all([...m.map((t=>I(t,d,l.signal))),...g.map((t=>{let[,e,n]=t;return I(n,e,l.signal)}))]),w=y.slice(0,m.length),b=y.slice(m.length);if(l.signal.aborted)return;L.delete(t),x.delete(t),g.forEach((t=>x.delete(t)));let P=F(w);if(P){let t=k(E,P);return void await nt(P,t)}let{loaderData:T,errors:S}=W(E,E.matches,m,w,null,g,b),C={state:"idle",data:s.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};E.fetchers.set(t,C);let O=at(p);if("loading"===E.navigation.state&&p>H){var U;M||D(!1),null==(U=A)||U.abort(),Q(M,E.navigation.location,{matches:f,loaderData:T,errors:S,fetchers:new Map(E.fetchers)})}else K(e({errors:S,loaderData:T},O?{fetchers:new Map(E.fetchers)}:{})),R=!1}(t,n,i,o):void et(t,n,i,e({state:"submitting"},o,{data:(null==(l=E.fetchers.get(t))?void 0:l.data)||void 0}))}et(t,n,i,{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:(null==(o=E.fetchers.get(t))?void 0:o.data)||void 0})},revalidate:function(){R=!0,K({revalidation:"loading"}),"submitting"===E.navigation.state&&"get"!==E.navigation.formMethod||("idle"!==E.navigation.state?Z(M||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation}):Z(E.historyAction,E.location,{startUninterruptedRevalidation:!0}))},createHref:N,getFetcher:tt,deleteFetcher:function(t){x.has(t)&&rt(t),Y.delete(t),L.delete(t),X.delete(t),E.fetchers.delete(t)},dispose:function(){var t;f&&f(),p=null,null==(t=A)||t.abort();for(let[,t]of x)t.abort()},_internalFetchControllers:x},s}function O(t,n,r){return void 0===n&&(n=[]),void 0===r&&(r=new Set),t.map(((t,o)=>{let a=[...n,o],i="string"==typeof t.id?t.id:a.join("-");return r.has(i)&&D(!1),r.add(i),e({},t,{id:i,children:t.children?O(t.children,a,r):void 0})}))}function k(t,e){let{formMethod:n,formAction:r,formEncType:o,formData:a}=t.navigation;return{state:"loading",location:c(t.location,e.location),formMethod:n||void 0,formAction:r||void 0,formEncType:o||void 0,formData:a||void 0}}function $(t,e,n,r,o,a,i,l){let s=i?e.findIndex((t=>t.route.id===Object.keys(i)[0])):e.length,c=i?Object.values(i)[0]:a?Object.values(a)[0]:null,u=e.filter(((e,a)=>!(!e.route.loader||a>=s)&&(function(t,e,n){let r=!e||n.route.id!==e.route.id,o=void 0===t[n.route.id];return r||o}(t.loaderData,t.matches[a],e)||H(t.location,t.matches[a],n,r,e,o,c)))),d=[];if(o)for(let t of l.entries()){let[e,[r,a]]=t;H(r,a,n,r,a,o,c)&&d.push([e,r,a])}return[u,d]}function H(t,n,r,o,a,i,l){var s;let c=X(t),u=n.params,d=X(o),f=a.params,h=n.pathname!==a.pathname||(null==(s=n.route.path)?void 0:s.endsWith("*"))&&n.params["*"]!==a.params["*"]||c.toString()===d.toString()||c.search!==d.search||i;return a.route.shouldRevalidate?a.route.shouldRevalidate(e({currentUrl:c,currentParams:u,nextUrl:d,nextParams:f},r,{actionResult:l,defaultShouldRevalidate:h})):h}async function I(t,e,n,r){let o,a=T.data;try{let a=r?"action":"loader",i=t.route[a];i||D(!1),o=await i({params:t.params,request:L(e,r),signal:n})}catch(t){a=T.error,o=t}if(o instanceof Response){var i;let t,e=o.status,n=o.headers.get("Location");return e>=300&&e<=399&&null!=n?{type:T.redirect,status:e,location:n,revalidate:null!==o.headers.get("X-Remix-Revalidate")}:(t=null!=(i=o.headers.get("Content-Type"))&&i.startsWith("application/json")?await o.json():await o.text(),a===T.error?{type:a,error:new x(e,o.statusText,t)}:{type:a,data:t})}return a===T.error?{type:a,error:o}:{type:a,data:o}}function L(t,e){let n;if(e){let{formMethod:t,formEncType:r,formData:o}=e,a=o;if("application/x-www-form-urlencoded"===r){a=new URLSearchParams;for(let[t,e]of o.entries())"string"!=typeof e&&D(!1),a.append(t,e)}n={method:t.toUpperCase(),headers:{"Content-Type":r},body:a}}let r=X(t).toString();return new Request(r,n)}function W(t,n,r,o,a,i,l){let s={},c=null;return o.forEach(((t,e)=>{let o=r[e].route.id;if(q(t)&&D(!1),z(t)){let e=B(n,o),r=t.error;a&&(r=Object.values(a)[0],a=null),c=Object.assign(c||{},{[e.route.id]:r})}else s[o]=t.data})),a&&(c=a),i.forEach(((n,r)=>{let[o,a,i]=n,s=l[r];if(z(s)){var u;let n=B(t.matches,i.route.id);null!=(u=c)&&u[n.route.id]||(c=e({},c,{[n.route.id]:s.error})),t.fetchers.delete(o)}else if(q(s))D(!1);else{let e={state:"idle",data:s.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};t.fetchers.set(o,e)}})),{loaderData:s,errors:c}}function U(t,n){let r=(n.matches||t.matches).filter((e=>{var r;return void 0!==t.loaderData[e.route.id]&&void 0===(null==(r=n.loaderData)?void 0:r[e.route.id])}));return e({},n.loaderData,r.reduce(((e,n)=>Object.assign(e,{[n.route.id]:t.loaderData[n.route.id]})),{}))}function B(t,e){return t.slice(0,t.findIndex((t=>t.route.id===e))+1).reverse().find((t=>t.route.errorElement))||t[0]}function _(t){return[{params:{},pathname:"",pathnameBase:"",route:t[0]}]}function F(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(q(n))return n}}function N(t){return t.pathname+t.search}function z(t){return t.type===T.error}function q(t){return(null==t?void 0:t.type)===T.redirect}function V(t){return null!=t&&"formData"in t&&null!=t.formData}function G(t){return t&&"get"!==t.formMethod}function J(t){return new URLSearchParams(t).getAll("index").some((t=>""===t))}function X(t){let e="undefined"!=typeof window&&void 0!==window.location?window.location.origin:"unknown://unknown",n="string"==typeof t?t:N(t);return new URL(n,e)}const Y=["initialEntries","initialIndex"],K=["window"],Q=["window"];t.IDLE_FETCHER=C,t.IDLE_NAVIGATION=S,t.createBrowserHistory=i,t.createBrowserRouter=function(t){let{window:r}=t,o=n(t,K);return j(e({history:i({window:r})},o))},t.createHashHistory=l,t.createHashRouter=function(t){let{window:r}=t,o=n(t,Q);return j(e({history:l({window:r})},o))},t.createMemoryHistory=a,t.createMemoryRouter=function(t){let{initialEntries:r,initialIndex:o}=t,i=n(t,Y);return j(e({history:a({initialEntries:r,initialIndex:o})},i))},t.createPath=u,t.createRouter=j,t.generatePath=function(t,e){return void 0===e&&(e={}),t.replace(/:(\w+)/g,((t,n)=>(null==e[n]&&D(!1),e[n]))).replace(/\/*\*$/,(t=>null==e["*"]?"":e["*"].replace(/^\/*/,"/")))},t.getToPathname=function(t){return""===t||""===t.pathname?"/":"string"==typeof t?d(t).pathname:t.pathname},t.invariant=D,t.isRouteErrorResponse=function(t){return t instanceof x},t.joinPaths=E,t.json=function(t,n){void 0===n&&(n={});let r="number"==typeof n?{status:n}:n,o=new Headers(r.headers);return o.has("Content-Type")||o.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(t),e({},r,{headers:o}))},t.matchPath=w,t.matchRoutes=h,t.normalizePathname=M,t.parsePath=d,t.redirect=function(t,n){void 0===n&&(n=302);let r=n;"number"==typeof r?r={status:r}:void 0===r.status&&(r.status=302);let o=new Headers(r.headers);return o.set("Location",t),new Response(null,e({},r,{headers:o}))},t.resolvePath=A,t.resolveTo=function(t,e,n){let r,o="string"==typeof t?d(t):t,a=""===t||""===o.pathname?"/":o.pathname;if(null==a)r=n;else{let t=e.length-1;if(a.startsWith("..")){let e=a.split("/");for(;".."===e[0];)e.shift(),t-=1;o.pathname=e.join("/")}r=t>=0?e[t]:"/"}let i=A(o,r);return a&&"/"!==a&&a.endsWith("/")&&!i.pathname.endsWith("/")&&(i.pathname+="/"),i},t.stripBasename=b,t.warning=function(t,e){if(!t){"undefined"!=typeof console&&console.warn(e);try{throw new Error(e)}catch(t){}}},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=router.production.min.js.map
