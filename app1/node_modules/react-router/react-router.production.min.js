/**
 * React Router v6.4.0-pre.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
import{invariant as e,resolveTo as t,getToPathname as r,joinPaths as n,matchPath as a,parsePath as o,matchRoutes as i,createMemoryRouter as l,createMemoryHistory as u,Action as s,normalizePathname as c,stripBasename as p}from"@remix-run/router";export{Action as NavigationType,createPath,generatePath,isRouteErrorResponse,json,matchPath,matchRoutes,parsePath,redirect,resolvePath}from"@remix-run/router";import*as h from"react";import{useSyncExternalStore as d,createContext as m,useContext as f,useMemo as v,useRef as g,useEffect as y,useCallback as E,createElement as R,Fragment as b,Component as S,useState as x,useLayoutEffect as U,Children as D,isValidElement as N}from"react";const P="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:w,useEffect:k,useLayoutEffect:A,useDebugValue:C}=h;function L(e){const t=e.getSnapshot,r=e.value;try{const e=t();return!P(r,e)}catch(n){return!0}}const O=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),j=void 0!==d?d:!O?function(e,t,r){return t()}:function(e,t,r){const n=t(),[{inst:a},o]=w({inst:{value:n,getSnapshot:t}});return A((()=>{a.value=n,a.getSnapshot=t,L(a)&&o({inst:a})}),[e,n,t]),k((()=>{L(a)&&o({inst:a});return e((()=>{L(a)&&o({inst:a})}))}),[e]),C(n),n},F=m(null),T=m(null),B=m(null),I=m(null),_=m({outlet:null,matches:[]}),H=m(null);function J(t){M()||e(!1);let{basename:a,navigator:o}=f(B),{hash:i,pathname:l,search:u}=Q(t),s=l;if("/"!==a){let e=r(t),o=null!=e&&e.endsWith("/");s="/"===l?a+(o?"/":""):n([a,l])}return o.createHref({pathname:s,search:u,hash:i})}function M(){return null!=f(I)}function z(){return M()||e(!1),f(I).location}function W(){return f(I).navigationType}function V(t){M()||e(!1);let{pathname:r}=z();return v((()=>a(t,r)),[r,t])}function X(){M()||e(!1);let{basename:r,navigator:a}=f(B),{matches:o}=f(_),{pathname:i}=z(),l=JSON.stringify(o.map((e=>e.pathnameBase))),u=g(!1);return y((()=>{u.current=!0})),E(((e,o={})=>{if(!u.current)return;if("number"==typeof e)return void a.go(e);let s=t(e,JSON.parse(l),i);"/"!==r&&(s.pathname=n([r,s.pathname])),(o.replace?a.replace:a.push)(s,o.state)}),[r,a,l,i])}const Y=m(null);function q(){return f(Y)}function G(e){let t=f(_).outlet;return t?R(Y.Provider,{value:e},t):t}function K(){let{matches:e}=f(_),t=e[e.length-1];return t?t.params:{}}function Q(e){let{matches:r}=f(_),{pathname:n}=z(),a=JSON.stringify(r.map((e=>e.pathnameBase)));return v((()=>t(e,JSON.parse(a),n)),[e,a,n])}function Z(t,r){M()||e(!1);let a,l=f(T),{matches:u}=f(_),s=u[u.length-1],c=s?s.params:{},p=(s&&s.pathname,s?s.pathnameBase:"/"),h=(s&&s.route,z());if(r){let t="string"==typeof r?o(r):r;"/"===p||t.pathname?.startsWith(p)||e(!1),a=t}else a=h;let d=a.pathname||"/",m="/"===p?d:d.slice(p.length)||"/",v=i(t,{pathname:m});return te(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:n([p,e.pathname]),pathnameBase:"/"===e.pathnameBase?p:n([p,e.pathnameBase])}))),u,l)}function $(){let e=ce(),t="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:t},n={padding:"2px 4px",backgroundColor:t};return R(b,null,R("h2",null,"Unhandled Thrown Error!"),R("p",{style:{fontStyle:"italic"}},e?.message||e),e?.stack?R("pre",{style:r},e?.stack):null,R("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),R("p",null,"You can provide a way better UX than this when your app throws errors by providing your ownÂ ",R("code",{style:n},"errorElement")," props onÂ ",R("code",{style:n},"<Route>")))}class ee extends S{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?R(H.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function te(t,r=[],n){if(null==t)return null;let a=t,o=n?.errors;if(null!=o){let t=a.findIndex((e=>e.route.id&&o?.[e.route.id]));t>=0||e(!1),a=a.slice(0,Math.min(a.length,t+1))}return a.reduceRight(((e,t,i)=>{let l=t.route.id?o?.[t.route.id]:null,u=n?t.route.errorElement||R($,null):null,s=()=>R(_.Provider,{children:l?u:void 0!==t.route.element?t.route.element:e,value:{outlet:e,matches:r.concat(a.slice(0,i+1))}});return n&&(t.route.errorElement||0===i)?R(ee,{location:n.location,component:u,error:l,children:s()}):s()}),null)}var re;function ne(t){let r=f(T);return r||e(!1),r}function ae(){return ne(re.UseNavigation).navigation}function oe(){let t=f(F);t||e(!1);let r=ne(re.UseRevalidator);return{revalidate:t.revalidate,state:r.revalidation}}function ie(){let{matches:e,loaderData:t}=ne(re.UseMatches);return v((()=>e.map((e=>{let{pathname:r,params:n}=e;return{id:e.route.id,pathname:r,params:n,data:t[e.route.id],handle:e.route.handle}}))),[e,t])}function le(){let t=ne(re.UseLoaderData),r=f(_);r||e(!1);let n=r.matches[r.matches.length-1];return n.route.id||e(!1),t.loaderData?.[n.route.id]}function ue(e){return ne(re.UseRouteLoaderData).loaderData?.[e]}function se(){let t=ne(re.UseRouteError);return f(_)||e(!1),Object.values(t?.actionData||{})[0]}function ce(){let t=f(H),r=ne(re.UseRouteError),n=f(_),a=n.matches[n.matches.length-1];return t||(n||e(!1),a.route.id||e(!1),r.errors?.[a.route.id])}let pe;function he({children:e,fallbackElement:t,routes:r,createRouter:n}){pe||(pe=n(r||be(e)).initialize());let a=pe,o=j(a.subscribe,(()=>a.state)),i=v((()=>({createHref:a.createHref,go:e=>a.navigate(e),push:(e,t)=>a.navigate(e,{state:t}),replace:(e,t)=>a.navigate(e,{replace:!0,state:t})})),[a]);return o.initialized?R(F.Provider,{value:a},R(T.Provider,{value:o},R(ye,{location:o.location,navigationType:o.historyAction,navigator:i},R(Re,{routes:r,children:e})))):t||null}function de({children:e,initialEntries:t,initialIndex:r,hydrationData:n,fallbackElement:a,routes:o}){return he({children:e,fallbackElement:a,routes:o,createRouter:e=>l({initialEntries:t,initialIndex:r,routes:e,hydrationData:n})})}function me({basename:e,children:t,initialEntries:r,initialIndex:n}){let a=g();null==a.current&&(a.current=u({initialEntries:r,initialIndex:n,v5Compat:!0}));let o=a.current,[i,l]=x({action:o.action,location:o.location});return U((()=>o.listen(l)),[o]),R(ye,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:o})}function fe({to:t,replace:r,state:n}){M()||e(!1);let a=X();return y((()=>{a(t,{replace:r,state:n})})),null}function ve(e){return G(e.context)}function ge(t){e(!1)}function ye({basename:t="/",children:r=null,location:n,navigationType:a=s.Pop,navigator:i,static:l=!1}){M()&&e(!1);let u=c(t),h=v((()=>({basename:u,navigator:i,static:l})),[u,i,l]);"string"==typeof n&&(n=o(n));let{pathname:d="/",search:m="",hash:f="",state:g=null,key:y="default"}=n,E=v((()=>{let e=p(d,u);return null==e?null:{pathname:e,search:m,hash:f,state:g,key:y}}),[u,d,m,f,g,y]);return null==E?null:R(B.Provider,{value:h},R(I.Provider,{children:r,value:{location:E,navigationType:a}}))}function Ee({children:e,location:t}){return Z(be(e),t)}function Re({children:e,location:t,routes:r}){return Z(r||be(e),t)}function be(t,r=[]){let n=[];return D.forEach(t,((t,a)=>{if(!N(t))return;if(t.type===b)return void n.push.apply(n,be(t.props.children,r));t.type!==ge&&e(!1);let o=[...r,a],i={id:t.props.id||o.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle};t.props.children&&(i.children=be(t.props.children,o)),n.push(i)})),n}function Se(e,t){return te(e,void 0,t)}!function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(re||(re={}));export{de as DataMemoryRouter,me as MemoryRouter,fe as Navigate,ve as Outlet,ge as Route,ye as Router,Ee as Routes,F as UNSAFE_DataRouterContext,T as UNSAFE_DataRouterStateContext,I as UNSAFE_LocationContext,B as UNSAFE_NavigationContext,_ as UNSAFE_RouteContext,be as createRoutesFromChildren,Se as renderMatches,se as useActionData,J as useHref,M as useInRouterContext,le as useLoaderData,z as useLocation,V as useMatch,ie as useMatches,X as useNavigate,ae as useNavigation,W as useNavigationType,G as useOutlet,q as useOutletContext,K as useParams,he as useRenderDataRouter,Q as useResolvedPath,oe as useRevalidator,ce as useRouteError,ue as useRouteLoaderData,Z as useRoutes};
//# sourceMappingURL=react-router.production.min.js.map
